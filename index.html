<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Mines Neon</title>

<style>
*{
    margin:0;
    padding:0;
    box-sizing:border-box;
    font-family:Arial, sans-serif;
}

body{
    background: radial-gradient(circle at top, #0d1b2a, #000814);
    color:white;
    text-align:center;
}

/* HEADER */
header{
    padding:20px;
    font-size:28px;
    font-weight:bold;
    letter-spacing:2px;
    background:linear-gradient(90deg,#00c6ff,#0072ff);
    -webkit-background-clip:text;
    color:transparent;
}

/* BALANCE PANEL */
.panel{
    margin:20px auto;
    padding:20px;
    width:350px;
    background:rgba(255,255,255,0.05);
    border-radius:15px;
    box-shadow:0 0 20px rgba(0,114,255,0.4);
}

.panel input{
    padding:8px;
    width:80px;
    text-align:center;
    border-radius:6px;
    border:none;
    margin-left:5px;
}

.panel button{
    padding:8px 15px;
    margin:5px;
    border:none;
    border-radius:6px;
    cursor:pointer;
    font-weight:bold;
}

.start{background:#00ff88;}
.cash{background:#ffaa00;}
.add{background:#00c6ff;}

/* GRID */
.grid{
    display:grid;
    grid-template-columns:repeat(5,90px);
    gap:15px;
    justify-content:center;
    margin:40px auto;
}

/* CARD FLIP */
.card{
    width:90px;
    height:90px;
    perspective:1000px;
}

.inner{
    width:100%;
    height:100%;
    position:relative;
    transition:transform 0.6s;
    transform-style:preserve-3d;
}

.card.flipped .inner{
    transform:rotateY(180deg);
}

.front,.back{
    position:absolute;
    width:100%;
    height:100%;
    border-radius:12px;
    backface-visibility:hidden;
    display:flex;
    align-items:center;
    justify-content:center;
    font-size:28px;
}

.front{
    background:#112;
    box-shadow:0 0 10px #00c6ff;
}

.back{
    background:#111;
    transform:rotateY(180deg);
}

.safe{
    background:#00ff88 !important;
    box-shadow:0 0 15px #00ff88;
}

.mine{
    background:#ff0033 !important;
    box-shadow:0 0 20px red;
}

/* EXPLOSION */
.explosion{
    position:absolute;
    width:100px;
    height:100px;
    background:radial-gradient(circle,yellow,orange,red,transparent);
    border-radius:50%;
    animation:explode 0.6s ease-out forwards;
    pointer-events:none;
}

@keyframes explode{
    0%{transform:scale(0.2);opacity:1;}
    100%{transform:scale(3);opacity:0;}
}

.stats{
    margin-top:20px;
    font-size:20px;
}
</style>
</head>
<body>

<header>MINES ‚≠ê</header>

<div class="panel">
    –ë–∞–ª–∞–Ω—Å: <span id="balance">100</span><br><br>
    –°—Ç–∞–≤–∫–∞: <input type="number" id="bet" value="10" min="1"><br>
    <button class="start" id="startBtn">–ù–∞—á–∞—Ç—å</button>
    <button class="cash" id="cashoutBtn">–ó–∞–±—Ä–∞—Ç—å</button>
    <button class="add" id="addBalance">+1</button>
</div>

<div class="grid" id="grid"></div>

<div class="stats">
    –ú–Ω–æ–∂–∏—Ç–µ–ª—å: <span id="multiplier">1.00x</span>
</div>

<script>
const grid=document.getElementById("grid");
const balanceEl=document.getElementById("balance");
const betInput=document.getElementById("bet");
const multiplierText=document.getElementById("multiplier");

let balance=100;
let bet=0;
let mines=[];
let multiplier=1;
let gameActive=false;

function updateBalance(){
    balanceEl.textContent=balance;
}

function createGrid(){
    grid.innerHTML="";
    for(let i=0;i<25;i++){
        const card=document.createElement("div");
        card.classList.add("card");
        card.dataset.index=i;
        card.innerHTML=`
        <div class="inner">
            <div class="front"></div>
            <div class="back"></div>
        </div>`;
        card.addEventListener("click",handleClick);
        grid.appendChild(card);
    }
}

function startGame(){
    bet=parseInt(betInput.value);
    if(bet>balance||bet<=0)return;

    balance-=bet;
    updateBalance();

    mines=[];
    multiplier=1;
    multiplierText.textContent="1.00x";
    gameActive=true;
    createGrid();

    while(mines.length<5){
        let r=Math.floor(Math.random()*25);
        if(!mines.includes(r))mines.push(r);
    }
}

function handleClick(e){
    if(!gameActive)return;
    const card=e.currentTarget;
    const index=parseInt(card.dataset.index);
    if(card.classList.contains("flipped"))return;

    card.classList.add("flipped");
    const back=card.querySelector(".back");

    if(mines.includes(index)){
        back.classList.add("mine");
        back.textContent="üí£";
        explode(card);
        revealAll();
        gameActive=false;
    }else{
        back.classList.add("safe");
        back.textContent="‚≠ê";
        multiplier+=0.3;
        multiplierText.textContent=multiplier.toFixed(2)+"x";
    }
}

function revealAll(){
    document.querySelectorAll(".card").forEach((card,i)=>{
        if(!card.classList.contains("flipped")){
            card.classList.add("flipped");
            const back=card.querySelector(".back");
            if(mines.includes(i)){
                back.classList.add("mine");
                back.textContent="üí£";
            }
        }
    });
}

function explode(card){
    const rect=card.getBoundingClientRect();
    const ex=document.createElement("div");
    ex.classList.add("explosion");
    ex.style.left=rect.left+"px";
    ex.style.top=rect.top+"px";
    document.body.appendChild(ex);
    setTimeout(()=>ex.remove(),600);
}

function cashOut(){
    if(!gameActive)return;
    let win=Math.floor(bet*multiplier);
    balance+=win;
    updateBalance();
    gameActive=false;
}

document.getElementById("startBtn").addEventListener("click",startGame);
document.getElementById("cashoutBtn").addEventListener("click",cashOut);
document.getElementById("addBalance").addEventListener("click",()=>{
    balance+=1;
    updateBalance();
});

createGrid();
updateBalance();
</script>

</body>
</html>
